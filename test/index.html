<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <title>Combyne.js Test Suite</title> 

  <!-- Load libs -->
  <script src="assets/jquery.js"></script> 
  <script src="assets/nodeunit.js"></script> 

  <!-- Load combyne -->
  <script src="../combyne.js"></script>

  <!-- Browser compat -->
  <script>

    function require() {
      return combyne;
    }

  </script>

  <!-- Nodeunit assets -->
  <link rel="stylesheet" href="assets/nodeunit.css"> 
</head>

<body>
  <h1 id="nodeunit-header">Combyne.js Client-Side Test Suite</h1> 
  <script> 
  jQuery(function($) {

    var cache = {
      common: {},
      properties: {},
      comments: {},
      filters: {},
      expressions: {},
      delimiters: {},
      partials: {}
    };

    var scripts = [
      [ "common", "common.js" ],
      [ "comments", "comments.js" ],
      [ "properties", "properties.js" ]
      //[ "filters", "filters.js" ],
      //[ "expressions", "expressions.js" ]
    ];

    function load(cb) { 
      var file = scripts.shift();

      exports = cache[file[0]];

      $.getScript(file[1], function() {
        if (scripts.length) {
          return load(cb);
        }

        cb();
      });
    }

    load(function() {
      nodeunit.run(cache);
    });

  });
  </script> 
</body>
</html>
